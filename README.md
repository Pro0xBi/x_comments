# 推特AI锐评 (twitter_comment)

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

这是一个 Chrome 扩展程序，旨在帮助用户使用 DeepSeek AI 快速分析 Twitter / X 上的推文，并给出"锐评"。

## 安全性说明

做了如下措施去尽可能减少安全风险：

1.  **纯本地执行架构 (无服务端):** 本扩展程序完全在用户浏览器本地执行，不依赖任何外部服务器。所有核心功能和数据处理（除对 DeepSeek API 的直接调用外）均在本地完成，从架构上杜绝了任何收集数据的可能性。
2.  **安全的 API 密钥管理:** 用户提供的 DeepSeek API 密钥采用 AES-GCM 算法进行加密，并仅存储于本地浏览器的 `chrome.storage.local` 区域，确保密钥不离开用户设备且不参与 Chrome 同步。解密后的密钥仅用于向 DeepSeek API 发起请求
3.  **零第三方依赖:** 项目采用原生 JavaScript (Vanilla JS) 和标准 Chrome Extension APIs 构建，未引入任何外部 JavaScript 库或框架，显著降低了供应链攻击的风险。

如果你对安全性有任何疑问或发现潜在问题，欢迎通过 GitHub Issue 提出。





尽管有以上措施，本项目的开发者并非专业程序员。本项目代码的生成和实现主要依赖 AI 完成。同样，代码的安全性和质量审查也主要在 AI 的协助下进行。

尽管已努力确保插件的功能性和安全性，但鉴于开发方式的特殊性，无法完全保证代码中不存在任何潜在问题、错误或安全漏洞。**请用户自行评估风险并谨慎使用。**

## 主要功能

*   **推文分析:** 在每条推文下方添加一个"分析"按钮，点击后调用配置好的 DeepSeek AI 服务进行分析。
*   **结果展示:** 将 AI 的分析结果以 Markdown 格式清晰地展示在推文下方。
*   **灵活的分析模式:** 提供多种方式来定制 AI 的分析行为：
    *   **使用预设角色:** 内置多种即用型角色（例如：毒舌 😈, KFC 🍟, 揣测 🤔, 事件 🎲），只需点击选择即可快速切换不同的分析视角和风格。
    *   **直接自定义 Prompt:** 在 "Prompt" 标签页下，你可以直接编写或修改系统提示词 (System Prompt) 和用户提示词 (User Prompt)，实现高度个性化的分析指令。
    *   **导入自定义角色模板:** 支持从 `.json` 文件导入预设的角色模板（详见"导入自定义角色模板"部分），方便用户扩展和分享自己的角色配置。
*   **安全存储:** DeepSeek API Key 使用 AES-GCM 加密后安全地存储在浏览器的本地存储 (`chrome.storage.local`) 中，不会在设备间同步，也不会发送到任何第三方服务器（除了 DeepSeek API）。

## 安装指南

目前，你可以通过以下方式从源代码安装：

1.  下载本仓库的 ZIP 文件并解压，或者使用 `git clone` 克隆本仓库。
2.  打开 Chrome 浏览器，在地址栏输入 `chrome://extensions` 并回车。
3.  确保右上角的"开发者模式 (Developer mode)"已启用。
4.  点击"加载已解压的扩展程序 (Load unpacked)"按钮。
5.  选择你刚才解压或克隆的 `twitter_comment` 文件夹。
6.  扩展程序图标应该会出现在你的浏览器工具栏中。


## 使用说明

1.  **配置 API Key:** 首次使用前，请点击浏览器工具栏上的扩展程序图标，进入选项页面配置你的 DeepSeek API Key (详见下一节)。
2.  **浏览 Twitter / X:** 打开 `twitter.com` 或 `x.com`。
3.  **触发操作区域:** 将鼠标悬停在任意一条推文上。
4.  **找到操作区域:** 此时，页面的右上角应该会出现一个新的操作区域。这个区域包含了：
    *   "分析"按钮。
    *   "角色"和"Prompt"两个标签页，用于选择分析模式（预设角色或自定义 Prompt）。
5.  **开始分析:** 点击操作区域中的"分析"按钮。
6.  **查看结果:** 按钮会显示"分析中..."，完成后，分析结果将显示在按钮下方。

## 导入自定义角色模板

除了使用内置的预设角色和完全自定义 Prompt 外，你还可以导入一些预设的角色模板，作为你自定义角色的基础。这些角色模板位于项目代码的 `import_roles` 目录下，你可以直接在选项页面导入它们。

**当前提供的自定义角色模板：**

*   **角度 (🎯):** Meme Coin 猎手，分析推文中的 Meme 潜力。(`meme_hunter.json`)
*   **盘主 (💰):** 基于"三盘理论"进行深度经济模式和风险分析。(`Ponzi.json`)
*   **黑森 (🕷️):** 黑暗森林观察者，以最大恶意揣测推文意图，揭示风险。(`dark_forest_hunter.json`)
*   **嘴臭 (🤬):** 贴吧老哥风格，进行嘲讽和调侃式评论。(`tieba_troll.json`)

**导入方法:**

1.  打开扩展程序的选项页面。
2.  找到"导入角色"或类似功能的按钮 (*请根据实际按钮文字修改*)。
3.  点击按钮，选择项目代码中 `import_roles` 目录下的 `.json` 文件进行导入。
4.  导入成功后，你应该能在"角色"标签页的列表中看到新添加的角色（通常会标记为用户自定义）。你可以进一步编辑这些导入的角色。

## 角色详解

本扩展提供了多种分析视角，包括内置的预设角色和可供导入的自定义角色模板。

### 预设角色

这些角色是插件内置的，可以直接在"角色"标签页选择使用：

*   **毒舌 (😈):** 扮演一位毒舌但有趣的加密货币评论家，风格类似脱口秀演员，用犀利幽默的语言进行评论。
*   **KFC (🍟):** 模仿"疯狂KFC星期四"风格，进行与推文关联的无厘头整活。
*   **揣测 (🤔):** 扮演一位敏锐的"洞察者"，解读推文的字面信息之下的深层含义，并分析发推者可能的真实目的或动机。
*   **事件 (🎲):** 扮演一位事件驱动型交易分析师，从博弈论视角解读市场信息，评估交易机会与风险。

### 自定义角色模板 (可导入)

这些模板位于项目代码的 `import_roles` 目录下，你可以通过选项页面的"导入角色"功能将其导入，作为你自定义角色的起点：

*   **角度 (🎯):** Meme Coin 猎手，专注于从推文中挖掘可能被用来创造或炒作 Meme Coin 的角度和潜力。
*   **盘主 (💰):** 基于"三盘理论"的批判性分析师，深度解构推文内容背后可能存在的经济模式、权力结构和风险。
*   **黑森 (🕷️):** 黑暗森林观察者，以最大恶意揣测推文发布者的意图，揭示潜在陷阱和风险。
*   **嘴臭 (🤬):** 扮演一位贴吧资深"嘴臭"老哥，用贴吧特色的嘲讽和调侃风格评论推文。

## 配置 API Key

为了使用 AI 分析功能，你需要配置你的 DeepSeek API Key。

1.  **获取 API Key:**
    *   前往 [DeepSeek 开放平台](https://platform.deepseek.com/) (*请确认此链接是否准确*) 注册并获取你的 API Key。
2.  **打开选项页面:** 点击浏览器工具栏上的扩展程序图标，或者右键点击图标选择"选项"。
3.  **选择服务商:** (此步骤可能不再需要，如果下拉菜单只剩 DeepSeek)
4.  **输入 API Key:** 将你获取到的 DeepSeek API Key 粘贴到输入框中。
5.  **保存配置:** 点击"保存"或"添加"按钮（*请根据实际按钮文字修改*)。
6.  **激活配置:** 确保你的 DeepSeek 配置旁边显示为"当前激活"或类似状态。

**重要提示:** 你的 API Key 会经过 AES-GCM 加密后存储在 `chrome.storage.local` 中。这意味着：
    *   密钥仅存储在你的本地计算机上。
    *   密钥不会通过 Chrome 同步到其他设备。
    *   除了发送给 DeepSeek API 用于调用外，密钥不会被发送到任何其他地方。

## 隐私说明

我们非常重视你的隐私。

*   **权限:** 本扩展需要访问 `twitter.com` / `x.com` 的权限，以便在页面上添加"分析"按钮并获取推文内容进行分析。还需要 `storage` 权限来安全地存储你加密后的 API Key。
*   **数据处理:** 
    *   当你点击"分析"时，当前推文的内容（文本、作者信息等）会连同你配置的 API Key 一起发送给 DeepSeek API 端点。
    *   API Key 使用 AES-GCM 在本地加密存储，并且仅存储在 `chrome.storage.local` 中。
    *   本扩展程序本身**不会**收集、存储或传输任何你的个人身份信息 (PII)、浏览历史或推文内容到开发者或任何第三方服务器。
*   **第三方服务:** 请注意，DeepSeek 有其自己的隐私政策，你需要自行了解。

## 技术栈

*   Vanilla JavaScript (纯原生 JS)
*   Chrome Extension APIs

## 贡献

欢迎提出 Issue 或 Pull Request！

## 许可证

本项目采用 [MIT 许可证](LICENSE)。 